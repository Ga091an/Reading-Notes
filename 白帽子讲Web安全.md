# 白帽子讲Web安全
> author: 吴翰清

## 浏览器安全

- 浏览器的同源策略，限制了来自不同源的"document"或脚本，对当前"document"读取或设置某些属性．
- 浏览器中 script, img, iframe等标签都可以跨域加载资源，而不受同源策略的限制．这些带"src"属性的标签每次加载时，实际上是有浏览器发起了一次Get请求．不同与XMLHttpRequest的是，通过src属性加载的资源，浏览器限制了Javascript的权限，使其不能读，写返回的内容．
- 扩展和插件的权限都高于页面javascript的权限，比如可以进行一些跨域网络请求等．

## 跨站脚本攻击（XSS）

- 跨站脚本攻击，英文时Cross Site Script,本来缩写时CSS,但是为了和层叠样式表（Cascading Style SHeet, CSS）有所区别，所以在安全领域叫做＂XSS＂．

- XSS攻击，通常指黑客通过＂HTML注入＂篡改网页，插入了恶意的脚本，从而在用户浏览网页时，控制用户浏览器的一种攻击．在一开始，这种攻击的演示案例是跨域的，所以叫做＂跨站脚本＂．但是发展到今天，由于Javascript的强大功能以及网站前段应用的复杂化，是否跨域已经不再重要．但是由于历史原因，XSS这个名字却一直保留下来．

- 反射型XSS

只是简单地把用户输入的数据＂反射＂给浏览器．也就是说，黑客往往需要有事用户＂点击＂一个恶意连接，才能攻击成功．反射型XSS也叫＂非持久性XSS＂(Non-persistent XSS)

- 存储型XSS

存储型XSS会把用户输入的数据＂存储＂在服务器端．这种XSS具有很强的稳定性．

比较常见的一个场景就是，黑客写下一篇包含有恶意Javascript代码的博客文章，文章发表后，所有访问该博客文章的用户，都会在它们的浏览器中执行这段恶意的Javascript代码．黑客把恶意的脚本保存到服务器短，所以这种XSS攻击叫做＂存储型XSS＂．从效果上看它的存在时间是比较长的，也叫＂持久型XSS＂(Persistent XSS)

- DOM Based XSS

通过修改页面的DOM节点形成的XSS,称之为DOM Based XSS. 如通过innerHTML把一段用户数据当做HTML写入到页面中，这就造成了DOM based XSS.
